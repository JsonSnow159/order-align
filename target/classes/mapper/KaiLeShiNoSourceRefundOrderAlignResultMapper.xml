<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.orderalign.mapper.KaiLeShiNoSourceRefundOrderAlignResultMapper">
    <resultMap id="BaseResultMap" type="com.example.orderalign.model.KaiLeShiNoSourceRefundOrderAlignResult">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="kdt_id" property="kdtId" jdbcType="BIGINT"/>
        <result column="app_id" property="appId" jdbcType="VARCHAR"/>
        <result column="refund_id" property="refundId" jdbcType="VARCHAR"/>
        <result column="out_refund_id" property="outRefundId" jdbcType="VARCHAR"/>

        <result column="node_kdt_id" property="nodeKdtId" jdbcType="BIGINT"/>
        <result column="yz_shop_no" property="yzShopNo" jdbcType="VARCHAR"/>
        <result column="out_shop_no" property="outShopNo" jdbcType="VARCHAR"/>
        <result column="shop_result" property="shopResult" jdbcType="VARCHAR"/>

        <result column="yz_refund_fee" property="yzRefundFee" jdbcType="BIGINT"/>
        <result column="out_refund_fee" property="outRefundFee" jdbcType="BIGINT"/>
        <result column="refund_fee_result" property="refundFeeResult" jdbcType="VARCHAR"/>

        <result column="user_id" property="userId" jdbcType="VARCHAR"/>
        <result column="yz_member_id" property="yzMemberId" jdbcType="VARCHAR"/>
        <result column="out_open_id" property="outOpenId" jdbcType="VARCHAR"/>
        <result column="customer_no" property="customerNo" jdbcType="VARCHAR"/>
        <result column="out_member_id" property="outMemberId" jdbcType="VARCHAR"/>
        <result column="member_id_result" property="memberIdResult" jdbcType="VARCHAR"/>

        <result column="is_mock_item_id" property="isMockItemId" jdbcType="VARCHAR"/>
        <result column="sub_order_result" property="subOrderResult" jdbcType="VARCHAR"/>
        <result column="sub_order_fail_reason" property="subOrderFailReason" jdbcType="VARCHAR"/>

        <result column="created_at" property="createdAt" jdbcType="TIMESTAMP"/>
        <result column="updated_at" property="updatedAt" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="Base_Column_List">
        id, kdt_id, app_id, refund_id, out_refund_id,
        node_kdt_id, yz_shop_no, out_shop_no, shop_result,
        yz_refund_fee, out_refund_fee, refund_fee_result,
        user_id, yz_member_id, out_open_id, customer_no, out_member_id, member_id_result,
        is_mock_item_id, sub_order_result, sub_order_fail_reason,
        created_at, updated_at
    </sql>

    <insert id="insert" parameterType="com.example.orderalign.model.KaiLeShiNoSourceRefundOrderAlignResult">
        insert into kaileshi_no_source_refund_order_align_result (kdt_id, app_id, refund_id, out_refund_id,
        node_kdt_id, yz_shop_no, out_shop_no, shop_result,
        yz_refund_fee, out_refund_fee, refund_fee_result,
        user_id, yz_member_id, out_open_id, customer_no, out_member_id, member_id_result,
        is_mock_item_id, sub_order_result, sub_order_fail_reason,
        created_at, updated_at)
        values (#{kdtId,jdbcType=BIGINT}, #{appId,jdbcType=VARCHAR}, #{refundId,jdbcType=VARCHAR}, #{outRefundId,jdbcType=VARCHAR},
        #{nodeKdtId,jdbcType=BIGINT}, #{yzShopNo,jdbcType=VARCHAR}, #{outShopNo,jdbcType=VARCHAR}, #{shopResult,jdbcType=VARCHAR},
        #{yzRefundFee,jdbcType=BIGINT}, #{outRefundFee,jdbcType=BIGINT}, #{refundFeeResult,jdbcType=VARCHAR},
        #{userId,jdbcType=VARCHAR}, #{yzMemberId,jdbcType=VARCHAR}, #{outOpenId,jdbcType=VARCHAR}, #{customerNo,jdbcType=VARCHAR}, #{outMemberId,jdbcType=VARCHAR}, #{memberIdResult,jdbcType=VARCHAR},
        #{isMockItemId,jdbcType=VARCHAR}, #{subOrderResult,jdbcType=VARCHAR}, #{subOrderFailReason,jdbcType=LONGVARCHAR},
        now(), now())
    </insert>

    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from kaileshi_no_source_refund_order_align_result
        where id = #{id,jdbcType=BIGINT}
    </select>

    <update id="updateByPrimaryKeySelective" parameterType="com.example.orderalign.model.KaiLeShiNoSourceRefundOrderAlignResult">
        update kaileshi_no_source_refund_order_align_result
        <set>
            <if test="kdtId != null">kdt_id = #{kdtId,jdbcType=BIGINT},</if>
            <if test="appId != null">app_id = #{appId,jdbcType=VARCHAR},</if>
            <if test="refundId != null">refund_id = #{refundId,jdbcType=VARCHAR},</if>
            <if test="outRefundId != null">out_refund_id = #{outRefundId,jdbcType=VARCHAR},</if>
            <if test="nodeKdtId != null">node_kdt_id = #{nodeKdtId,jdbcType=BIGINT},</if>
            <if test="yzShopNo != null">yz_shop_no = #{yzShopNo,jdbcType=VARCHAR},</if>
            <if test="outShopNo != null">out_shop_no = #{outShopNo,jdbcType=VARCHAR},</if>
            <if test="shopResult != null">shop_result = #{shopResult,jdbcType=VARCHAR},</if>
            <if test="yzRefundFee != null">yz_refund_fee = #{yzRefundFee,jdbcType=BIGINT},</if>
            <if test="outRefundFee != null">out_refund_fee = #{outRefundFee,jdbcType=BIGINT},</if>
            <if test="refundFeeResult != null">refund_fee_result = #{refundFeeResult,jdbcType=VARCHAR},</if>
            <if test="userId != null">user_id = #{userId,jdbcType=VARCHAR},</if>
            <if test="yzMemberId != null">yz_member_id = #{yzMemberId,jdbcType=VARCHAR},</if>
            <if test="outOpenId != null">out_open_id = #{outOpenId,jdbcType=VARCHAR},</if>
            <if test="customerNo != null">customer_no = #{customerNo,jdbcType=VARCHAR},</if>
            <if test="outMemberId != null">out_member_id = #{outMemberId,jdbcType=VARCHAR},</if>
            <if test="memberIdResult != null">member_id_result = #{memberIdResult,jdbcType=VARCHAR},</if>
            <if test="isMockItemId != null">is_mock_item_id = #{isMockItemId,jdbcType=VARCHAR},</if>
            <if test="subOrderResult != null">sub_order_result = #{subOrderResult,jdbcType=VARCHAR},</if>
            <if test="subOrderFailReason != null">sub_order_fail_reason = #{subOrderFailReason,jdbcType=LONGVARCHAR},</if>
            updated_at = now()
        </set>
        where id = #{id,jdbcType=BIGINT}
    </update>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        delete from kaileshi_no_source_refund_order_align_result
        where id = #{id,jdbcType=BIGINT}
    </delete>

    <select id="selectByRefundId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from kaileshi_no_source_refund_order_align_result
        where app_id = #{appId,jdbcType=VARCHAR} and refund_id = #{refundId,jdbcType=VARCHAR}
    </select>

</mapper>
